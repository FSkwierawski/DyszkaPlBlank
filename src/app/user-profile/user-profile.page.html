<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
/>
<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button auto-hide="false" menu="side-menu"></ion-menu-button>
    </ion-buttons>
    <ion-title>Profil</ion-title>
  </ion-toolbar>
</ion-header>

<div *ngIf="loading">
  <h3>Ładowanie</h3>
</div>

<ion-content color="primary" *ngIf="!loading">
  <ion-item>
    <ion-avatar>
      <img src="{{user.profileImage}}" />
    </ion-avatar>
    <ion-label>{{user.userName}}</ion-label>
  </ion-item>
  <ion-card>
    <ion-card-header>Opis:</ion-card-header>
    <ion-card-content>{{user.description}}</ion-card-content>
  </ion-card>
  <ion-item>
    <ion-label>email:</ion-label>
    <ion-label>{{user.email}}</ion-label>
  </ion-item>
  <ion-item>
    <ion-label>numer telefonu:</ion-label>
    <ion-label>{{user.telephoneNumber}}</ion-label>
  </ion-item>
  <ion-list>
    <div *ngIf="isOwner">
      <ion-item text-center>
        <ion-button
          (click)="openProfileDataeditor();"
          slot="start"
          size="medium"
          >Edytuj</ion-button
        >
      </ion-item>
    </div>
    <ion-item>
      <ion-button
      (click)="openUserOffers();"
      slot="start"
      size="medium"
      >Oferty użytkownika</ion-button
    >
    </ion-item>
  </ion-list>
  <div>
    <ion-card *ngFor="let comment of comments">
      <ion-card-header
        [class.pos]="comment.isPositive"
        [class.neg]="!comment.isPositive"
        >{{ comment.authorUserName }}</ion-card-header
      >
      <ion-card-subtitle>{{
        comment.createdDate | date: "dd.MM.yyyy"
      }}</ion-card-subtitle>
      <ion-card-content>{{ comment.text }}</ion-card-content>
      <div class="deleteButton">
        <ion-item>
          <div *ngIf="owner == comment.authorUserName && comment.isPositive == false">
            <ion-fab-button
              (click)="setToPositive(comment.id)"
              size="small"
              color="success"
              ><i class="fa fa-repeat"></i
            ></ion-fab-button>
          </div>
          <div *ngIf="owner == comment.authorUserName">
            <ion-fab-button
              (click)="deleteComment(comment.id)"
              size="small"
              color="danger"
              >Usuń</ion-fab-button
            >
          </div>
        </ion-item>
      </div>
    </ion-card>
  </div>
  <!-- <form #form="ngForm" (ngSubmit)="addComment(form)">
    <ion-item>
      <ion-label position="floating">Dodaj komentarz</ion-label>
      <ion-textarea
        name="newComment"
        [(ngModel)]="newComment"
        type="text"
        ngModel
        required
      ></ion-textarea>
      <ion-button type="submit">Dodaj</ion-button>
    </ion-item>
  </form> -->
</ion-content>
